(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dd8e9e1"],{"4bb4":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._m(0),o("div",{staticClass:"content-menu"},[o("b",[t._v("latitude:"+t._s(t.latitude))]),o("br"),o("b",[t._v("longitude:"+t._s(t.longitude))]),o("br"),""!=t.featureId?o("b",[t._v("Feature ID: "+t._s(t.featureId))]):t._e()])])},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"indoor-map"},[o("div",{attrs:{id:"map-id"}})])}],n=(o("d81d"),o("a15b"),{name:"map",data:function(){return{map:null,subscriptionKey:"",latitude:0,longitude:0,tilesetId:"",statesetId:"",popup:"",datasource:"",featureId:"",company:""}},mounted:function(){var t=this.$route.params,e=t.subscriptionKey,o=t.latitude,a=t.longitude,i=t.tilesetId,n=t.statesetId,s=t.company;this.subscriptionKey=e,this.latitude=parseFloat(o),this.longitude=parseFloat(a),this.tilesetId=i,this.statesetId=n,this.company=s,console.log("subscriptionKey: ".concat(this.subscriptionKey)),console.log("latitude: ".concat(this.latitude)),console.log("longitude: ".concat(this.longitude)),console.log("tilesetId: ".concat(this.tilesetId)),console.log("statesetId: ".concat(this.statesetId)),this.openMap()},methods:{openMap:function(){var t=this;console.log("openMap_openMap"),this.map=new atlas.Map("map-id",{center:[this.longitude,this.latitude],style:"grayscale_light",view:"Auto",authOptions:{authType:"subscriptionKey",subscriptionKey:this.subscriptionKey},zoom:18}),this.map.controls.add(new atlas.control.StyleControl({mapStyles:["road","satellite_road_labels"],layout:"list"}),{position:"top-right"}),this.popup=new atlas.Popup;var e=new atlas.control.LevelControl({position:"top-right"}),o=new atlas.indoor.IndoorManager(this.map,{levelControl:e,tilesetId:this.tilesetId,statesetId:this.statesetId});this.statesetId.length>0&&o.setDynamicStyling(!0),this.map.events.add("levelchanged",o,(function(t){console.log("The level has changed:",t)})),this.map.events.add("facilitychanged",o,(function(t){console.log("The facility has changed:",t)})),this.map.events.add("render",(function(){if(t.map.getCamera().zoom<16){var e=new atlas.HtmlMarker({htmlContent:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="37" viewBox="0 0 50 37" xml:space="preserve"><rect x="0" y="0" rx="8" ry="8" width="50" height="30" fill="{color}"/><polygon fill="{color}" points="10,29 20,29 15,37 10,29"/><text x="25" y="20" style="font-size:16px;font-family:arial;fill:#ffffff;" text-anchor="middle">{text}</text></svg>',color:"Blue",text:t.company,position:[t.longitude,t.latitude]});t.map.markers.add(e)}else t.map.markers.clear()})),this.map.events.add("ready",(function(){t.popup=new atlas.Popup({position:[0,0]})})),this.map.events.add("click",(function(e){console.log(e),t.featureId="";var o=t.map.layers.getRenderedShapes(e.position,"indoor");o.reduce((function(o,a){console.log("feature: ".concat(JSON.stringify(a))),console.log("properties: ".concat(JSON.stringify(a.properties))),Object.prototype.hasOwnProperty.call(a.properties,"featureType")&&(console.log("featureType is exist"),t.featureId=a.properties.featureId),console.log("featureID: ".concat(t.featureId));var i=['<div style="padding:10px"><b>'];""!==t.featureId?i.push("Feature ID: ".concat(t.featureId)):i.push("Feature ID: None"),i.push("</div>"),t.popup.setOptions({content:i.join(""),position:e.position}),t.popup.open(t.map)}),[])}))}}}),s=n,l=(o("6d17"),o("2877")),r=Object(l["a"])(s,a,i,!1,null,"54de634a",null);e["default"]=r.exports},"6d17":function(t,e,o){"use strict";o("74dc")},"74dc":function(t,e,o){},a15b:function(t,e,o){"use strict";var a=o("23e7"),i=o("44ad"),n=o("fc6a"),s=o("a640"),l=[].join,r=i!=Object,c=s("join",",");a({target:"Array",proto:!0,forced:r||!c},{join:function(t){return l.call(n(this),void 0===t?",":t)}})},a640:function(t,e,o){"use strict";var a=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&a((function(){o.call(null,e||function(){throw 1},1)}))}},d81d:function(t,e,o){"use strict";var a=o("23e7"),i=o("b727").map,n=o("1dde"),s=n("map");a({target:"Array",proto:!0,forced:!s},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-6dd8e9e1.ae1af3da.js.map